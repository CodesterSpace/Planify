import{a as lt}from"./chunk-II6FOY3U.js";import{a as gt}from"./chunk-CUB5A5UJ.js";import{C as E,D as z,E as st,a as f,b as w,c as I,e as dt,k as y,o as pt,s as S,t as k,u as T}from"./chunk-6UAI7CFH.js";import"./chunk-MU56VQVL.js";import{Bb as h,Ca as $,Cb as j,Db as v,Ea as V,Eb as Q,Fb as W,Ga as G,Gb as X,Ha as O,Hb as Y,I as p,Ib as Z,J as l,Jb as tt,Kb as et,L as g,Ma as M,Na as J,O as C,Pb as nt,Q as m,Rb as ot,Sb as it,T as D,U as A,Ub as rt,V as B,Vb as at,W as t,X as e,Y as d,Z as H,_ as U,ba as b,bc as u,ca as L,cb as q,dc as ct,ma as c,na as P,oa as x,ua as F,va as N,wa as R,zb as K}from"./chunk-IK3SDQQI.js";import"./chunk-KQYAU5ZY.js";import"./chunk-7KGURMOZ.js";import"./chunk-ZRAG276G.js";import"./chunk-BYYCXTI5.js";import"./chunk-TTTB7IPG.js";import"./chunk-CHHPJ5YN.js";import"./chunk-LZHEG2YN.js";import"./chunk-4U6PRYVA.js";import"./chunk-OAACOBQM.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import"./chunk-OLRFWS6T.js";var ft=o=>({first:o}),_t=o=>["/","project",o];function Ct(o,n){if(o&1&&(H(0),d(1,"ion-progress-bar",12),t(2,"div",13),c(3),e(),U()),o&2){let s=n.ngIf;p(),m("value",s/100),p(2),x(" ",s,"% ")}}var bt=(()=>{let n=class n{constructor(){this.project=null,this.isFirst=!1,f({ellipsisVerticalOutline:pt,phonePortraitOutline:st,home:S,add:w,person:E,homeOutline:k,listOutline:T,cardOutline:y,personOutline:z,addCircleOutline:I})}abregeTitre(i){return i.length>26?i.slice(0,26)+"..":i}ngOnInit(){}};n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=g({type:n,selectors:[["app-project-card"]],inputs:{project:"project",isFirst:"isFirst"},decls:18,vars:13,consts:[[1,"project-card",3,"ngClass","routerLink"],[1,"card-header"],[1,"card-top-row"],[1,"card-date"],["name","ellipsis-vertical-outline",1,"card-menu"],[1,"card-content"],["name","phone-portrait-outline",1,"card-icon"],[1,"card-title"],[1,"card-subtitle"],[1,"card-bottom"],[1,"progress-text"],[4,"ngIf"],[3,"value"],[1,"progress-percent"]],template:function(r,a){r&1&&(t(0,"ion-card",0)(1,"ion-card-header",1)(2,"div",2)(3,"div",3),c(4),N(5,"date"),e(),d(6,"ion-icon",4),e(),t(7,"div",5),d(8,"ion-icon",6),t(9,"div")(10,"div",7),c(11),e(),t(12,"div",8),c(13),e()()()(),t(14,"ion-card-content",9)(15,"div",10),c(16,"Progress"),e(),C(17,Ct,4,2,"ng-container",11),e()()),r&2&&(m("ngClass",F(9,ft,a.isFirst))("routerLink",F(11,_t,a.project==null?null:a.project.p_id)),p(4),P(R(5,6,a.project==null?null:a.project.createdAt,"dd/MM/yy HH:mm")),p(7),P(a.abregeTitre(a.project.title)),p(2),P(a.project==null?null:a.project.category),p(4),m("ngIf",a.project==null?null:a.project.progress))},dependencies:[h,v,j,u,ot,O,$,V,G,J],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]{box-sizing:border-box;margin:5px;background:linear-gradient(135deg,#3d7094,#2b7bd6);color:#fff;border-radius:16px;padding:16px;font-family:Arial,sans-serif;box-shadow:0 4px 12px #0003;width:100%;min-height:197px}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{display:contents}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-top-row[_ngcontent-%COMP%]{order:1}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{order:2}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-top-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:10px;margin-bottom:10px}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{min-width:40px;max-width:40px;font-size:32px;color:#fff}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:12px;opacity:.8}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;font-size:14px;margin-top:10px;gap:4px;padding:0}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-bottom[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{height:6px;border-radius:8px;margin-top:6px;margin-bottom:4px;width:100%;color:#0d2c59;--color: #0d2c59;--background: #d0e3ff;background:#d0e3ff}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-bottom[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{font-size:12px;text-align:right;width:100%}[_nghost-%COMP%]   .project-card[_ngcontent-%COMP%]   .card-menu[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}[_nghost-%COMP%]   .first[_ngcontent-%COMP%]{box-sizing:border-box;margin:5px;background:linear-gradient(135deg,#0a3d62,#1e5799);color:#fff;border-radius:16px;padding:16px;font-family:Arial,sans-serif;box-shadow:0 4px 12px #0003;width:100%;min-height:197px}[_nghost-%COMP%]   .first[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .first[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{color:linear-gradient(135deg,#0a3d62,#1e5799);--background: #d0e3ff;background:#d0e3ff}']});let o=n;return o})();var ut=(()=>{let n=class n{constructor(i){this.router=i,this.userid="",f({home:S,add:w,person:E,homeOutline:k,listOutline:T,cardOutline:y,personOutline:z,addCircleOutline:I})}ngOnInit(){let i=localStorage.getItem("userid");i&&(this.userid=i)}goToTask(){this.router.navigate(["/task-detail"])}goToProjects(){this.router.navigate(["/projects"])}goToProfile(){this.userid!=""?this.router.navigate(["compte/profile"]):this.router.navigate(["/compte"])}addProject(){this.router.navigate(["/add-project"])}};n.\u0275fac=function(r){return new(r||n)(l(M))},n.\u0275cmp=g({type:n,selectors:[["app-tabs"]],decls:23,vars:0,consts:[["slot","fixed",1,"custom-fab"],["color","primary",3,"click"],["name","add-circle-outline"],[1,"custom-footer"],["slot","bottom"],["tab","home","href","/tabs/tab1",1,"active"],["name","home-outline"],[3,"click"],["name","list-outline"],["disabled",""],["tab","payment","href","/tabs/tab3"],["name","card-outline"],["name","person-outline"]],template:function(r,a){r&1&&(t(0,"ion-fab",0)(1,"ion-fab-button",1),b("click",function(){return a.addProject()}),d(2,"ion-icon",2),e()(),t(3,"ion-footer",3)(4,"ion-tab-bar",4)(5,"ion-tab-button",5),d(6,"ion-icon",6),t(7,"ion-label"),c(8,"Accueil"),e()(),t(9,"ion-tab-button",7),b("click",function(){return a.goToProjects()}),d(10,"ion-icon",8),t(11,"ion-label"),c(12,"Projets"),e()(),t(13,"ion-tab-button",9),d(14,"ion-icon"),e(),t(15,"ion-tab-button",10),d(16,"ion-icon",11),t(17,"ion-label"),c(18,"Payment"),e()(),t(19,"ion-tab-button",7),b("click",function(){return a.goToProfile()}),d(20,"ion-icon",12),t(21,"ion-label"),c(22,"Profile"),e()()()())},dependencies:[rt,at,u,nt,tt,Y,Z],styles:[".custom-fab[_ngcontent-%COMP%]{position:fixed;bottom:30px;left:50%;transform:translate(-50%);z-index:10}.custom-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{width:55px;height:55px;border-radius:50%;box-shadow:0 4px 12px #0003}.custom-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:10;background:#fff;--border-top: none;border-top:1px solid #ccc;box-shadow:#00000073 0 25px 20px -20px;-webkit-mask:radial-gradient(circle 35px at center top,transparent 0,transparent 35px,black 36px);mask:radial-gradient(circle 35px at center top,transparent 0,transparent 35px,black 36px)}.custom-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{--background: white;border-top:1px solid #ddd;box-shadow:#00000073 0 25px 20px -20px}.custom-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{color:gray}.custom-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button.active[_ngcontent-%COMP%]{color:#145494}.custom-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button.add-button[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{--background: white;border-top:1px solid #ddd}.custom-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button.add-button[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{color:gray}.custom-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button.add-button[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button.tab-selected[_ngcontent-%COMP%]{color:#145494}.custom-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button.add-button[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   .div-add-button[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:10;background:#fff;border-top:1px solid #ccc}.custom-footer[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-tab-button.add-button[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   ion-icon.add-icon[_ngcontent-%COMP%]{font-size:28px}"]});let o=n;return o})();var xt=(o,n)=>n.p_id;function Ot(o,n){if(o&1&&d(0,"app-project-card",16),o&2){let s=n.$implicit,i=n.$index;m("project",s)("isFirst",i===0)}}function Mt(o,n){if(o&1&&(t(0,"div",14),A(1,Ot,1,2,"app-project-card",16,xt),e()),o&2){let s=L();p(),B(s.projects)}}function ht(o,n){o&1&&(t(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),c(3,"Aucun projet"),e()(),t(4,"ion-card-content"),c(5,"Ajoutez un projet pour commencer."),e()())}var Vt=(()=>{let n=class n{constructor(i,r,a){this.router=i,this.userService=r,this.projectService=a,this.projects=[],this.userid=localStorage.getItem("userid"),f({apps:dt})}ngOnInit(){this.userid&&(this.loadUser(this.userid),this.LoadProjectsForOwnerNMember(this.userid))}LoadProjectsForOwnerNMember(i){this.projectService.getProjectsForOwnerNMember(i).subscribe(r=>{this.projects=r.sort((a,_)=>new Date(_.createdAt).getTime()-new Date(a.createdAt).getTime()).slice(0,6)})}loadUser(i){this.userService.getUserById(i).subscribe({next:r=>{r?(this.userData=r,this.name=this.userData.name||"Utilisateur",console.log("Utilisateur charg\xE9 :",r)):console.warn("Aucun utilisateur trouv\xE9 avec l'ID:",i)},error:r=>{console.error("Erreur lors du chargement de l'utilisateur :",r)}})}goToProfile(){this.router.navigate(["compte/profile"])}goToProjects(){this.router.navigate(["projects"])}};n.\u0275fac=function(r){return new(r||n)(l(M),l(lt),l(gt))},n.\u0275cmp=g({type:n,selectors:[["app-home"]],decls:34,vars:2,consts:[[1,"espace"],[1,"top-bar"],[1,"icon"],["name","apps"],[1,"title"],[1,"notification"],[1,"welcome-header"],["placeholder","Search"],[1,"welcome-card"],["size","8"],["size","4"],["src","assets/img/task1.png","alt","Illustration"],[1,"ongoing-header"],["fill","clear","size","small",3,"click"],[1,"project-container"],[1,"padding-bottom"],[3,"project","isFirst"]],template:function(r,a){r&1&&(t(0,"ion-content"),d(1,"div",0),t(2,"div",1)(3,"div",2),d(4,"ion-icon",3),e(),t(5,"div",4),c(6,"Home"),e(),d(7,"div",5),e(),t(8,"div",6)(9,"h2"),c(10),e(),t(11,"p"),c(12,"Bonne Journ\xE9e"),e()(),d(13,"ion-searchbar",7),t(14,"ion-card",8)(15,"ion-grid")(16,"ion-row")(17,"ion-col",9)(18,"ion-card-header")(19,"ion-card-title"),c(20,"Bienvenue!"),e()(),t(21,"ion-card-content"),c(22," Planifions vos projets "),e()(),t(23,"ion-col",10),d(24,"img",11),e()()()(),t(25,"div",12)(26,"h3"),c(27,"Projets en cours"),e(),t(28,"ion-button",13),b("click",function(){return a.goToProjects()}),c(29,"Voir Tout"),e()(),C(30,Mt,3,0,"div",14)(31,ht,6,0,"ion-card"),d(32,"div",15)(33,"app-tabs"),e()),r&2&&(p(10),x("Salut ",a.name,"!"),p(20),D(a.projects.length>0?30:31))},dependencies:[ct,h,v,Q,X,j,et,it,W,K,u,O,q,bt,ut],styles:["ion-content[_ngcontent-%COMP%]{--background: #fff;--padding-start: 5px;--padding-end: 16px;--padding-top: 16px;--padding-bottom: 16px}.top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 5px 12px;background-color:#fff;border-bottom:none;border-top-left-radius:20px;border-top-right-radius:20px;width:100%;box-sizing:border-box}.top-bar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative;font-size:20px}.top-bar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#145494}.top-bar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#333}.top-bar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:relative}.top-bar[_ngcontent-%COMP%]   .notification-bell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:23px;margin-right:3px}.top-bar[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background-color:red;color:#fff;border-radius:50%;width:8px;height:8px}.welcome-header[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.welcome-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#145494;margin:0}.welcome-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2px;color:gray;font-size:14px}ion-searchbar[_ngcontent-%COMP%]{--background: white;--box-shadow: 0px 4px 6px rgba(0, 0, 0, .05);border-radius:12px;margin:16px 0}.welcome-card[_ngcontent-%COMP%]{border:1px solid #145494;border-radius:20px;background:none;color:gray}.welcome-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{color:#145494;font-size:18px;font-weight:500}.welcome-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;aspect-ratio:4/3;object-fit:contain}.ongoing-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:24px;margin-bottom:8px}.ongoing-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.ongoing-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;font-size:14px;color:#145494}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:8px 4px}.add-button[_ngcontent-%COMP%]{position:fixed;bottom:30px;left:0;right:0;z-index:10;background:#fff;border-top:1px solid #ccc}.project-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:150px}@media (max-width: 900px){.project-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 600px){.project-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]});let o=n;return o})();export{Vt as HomePage};
