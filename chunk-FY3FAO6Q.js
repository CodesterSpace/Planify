import{a as K}from"./chunk-CUB5A5UJ.js";import{a as V,f as R,g as X,h as q,p as G,r as J}from"./chunk-6UAI7CFH.js";import"./chunk-MU56VQVL.js";import{Bb as A,Cb as y,Db as U,Eb as z,Ga as T,Gb as D,Ha as k,I as c,J as h,L as v,Ma as I,O as f,Ob as L,Pb as H,Q as j,Qb as $,R as b,T as u,U as _,V as P,W as e,X as t,Y as g,ba as C,bc as B,ca as x,ma as i,na as p,va as S,wa as E,xb as F,zb as w}from"./chunk-IK3SDQQI.js";import"./chunk-KQYAU5ZY.js";import"./chunk-7KGURMOZ.js";import"./chunk-ZRAG276G.js";import"./chunk-BYYCXTI5.js";import"./chunk-TTTB7IPG.js";import"./chunk-CHHPJ5YN.js";import"./chunk-LZHEG2YN.js";import"./chunk-4U6PRYVA.js";import"./chunk-OAACOBQM.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import"./chunk-OLRFWS6T.js";var Q=(n,a)=>a.f_id,N=(n,a)=>a.p_id;function W(n,a){if(n&1&&(e(0,"ion-card",18)(1,"ion-item",12),g(2,"ion-icon",19),e(3,"div",20)(4,"ion-label")(5,"h3"),i(6),t(),e(7,"p"),i(8),S(9,"date"),t()()()()()),n&2){let r=a.$implicit;c(6),p(r==null?null:r.f_title),c(2),p(E(9,2,r==null?null:r.createdAt,"dd/MM/yy HH:mm"))}}function Y(n,a){if(n&1&&_(0,W,10,5,"ion-card",18,Q),n&2){let r=x();P(r.folders)}}function Z(n,a){n&1&&(e(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),i(3,"Aucun projet"),t()(),e(4,"ion-card-content"),i(5,"Ajoutez un projet pour commencer."),t()())}function ee(n,a){if(n&1&&(e(0,"ion-item",12),g(1,"ion-icon",21),e(2,"ion-label")(3,"h3"),i(4),t(),e(5,"p"),i(6),t()(),e(7,"ion-avatar",22),g(8,"img",23),t()()),n&2){let r=a.$implicit;c(4),p(r==null?null:r.title),c(),b(r==null?null:r.status),c(),p(r==null?null:r.status)}}function te(n,a){if(n&1&&(e(0,"ion-list"),_(1,ee,9,5,"ion-item",12,N),t()),n&2){let r=x();c(),P(r.projects)}}function ne(n,a){n&1&&(e(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),i(3,"Aucun projet"),t()(),e(4,"ion-card-content"),i(5,"Ajoutez un projet pour commencer."),t()())}function ie(n,a){if(n&1&&(e(0,"ion-item",12),g(1,"ion-icon",21),e(2,"ion-label")(3,"h3"),i(4),t(),e(5,"p"),i(6),t()(),e(7,"ion-avatar",22),g(8,"img",23),t()()),n&2){let r=a.$implicit;c(4),p(r==null?null:r.title),c(),b(r==null?null:r.status),c(),p(r==null?null:r.status)}}function oe(n,a){if(n&1&&(e(0,"ion-list"),_(1,ie,9,5,"ion-item",12,N),t()),n&2){let r=x();c(),P(r.t_projects)}}function re(n,a){n&1&&(e(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),i(3,"Aucun projet"),t()(),e(4,"ion-card-content"),i(5,"Ajoutez un projet pour commencer."),t()())}var fe=(()=>{let a=class a{constructor(s,l){this.router=s,this.projectService=l,this.userid=localStorage.getItem("userid"),this.folders=[],this.projects=[],this.t_projects=[],V({arrowBack:R,folderOutline:J,briefcaseOutline:q,fastFoodOutline:G,bookOutline:X})}ngOnInit(){this.userid&&(this.LoadProjectsForOwner(this.userid,6),this.LoadProjectsForTeam(this.userid,6),this.LoadFoldersForUser(this.userid))}UnlimitedProject(){this.userid&&this.LoadProjectsForOwner(this.userid,0)}LoadFoldersForUser(s){this.projectService.getFoldersForUser(s).subscribe(l=>{this.folders=l.sort((d,m)=>new Date(m.createdAt).getTime()-new Date(d.createdAt).getTime()),console.log(this.folders)})}LoadProjectsForOwner(s,l){this.projectService.getProjectsForOwner(s).subscribe(d=>{let m=d.sort((o,M)=>new Date(M.createdAt).getTime()-new Date(o.createdAt).getTime()),O=l>0?m.slice(0,l):m;this.projects=O.map(o=>(o.status&&(o.status=o.status.charAt(0).toUpperCase()+o.status.slice(1)),o.title&&(o.title=o.title.charAt(0).toUpperCase()+o.title.slice(1)),o))})}LoadProjectsForTeam(s,l){this.projectService.getProjectsForTeam(s).subscribe(d=>{let m=d.sort((o,M)=>new Date(M.createdAt).getTime()-new Date(o.createdAt).getTime()),O=l>0?d.slice(0,l):m;this.t_projects=O.map(o=>(o.status&&o.status.length>0&&(o.status=o.status.charAt(0).toUpperCase()+o.status.slice(1)),o.title&&o.title.length>0&&(o.title=o.title.charAt(0).toUpperCase()+o.title.slice(1)),o))})}goHome(){this.router.navigate(["/home"])}};a.\u0275fac=function(l){return new(l||a)(h(I),h(K))},a.\u0275cmp=v({type:a,selectors:[["app-projects"]],decls:56,vars:4,consts:[[1,"ion-padding",3,"fullscreen"],[1,"espace"],["id","get-back",1,"go-back"],["fill","clear",3,"click"],["slot","icon-only","name","arrow-back"],[1,"profile-card","ion-text-center"],["src","assets/img/profile.jpg","alt","Profile Photo",1,"profile-image"],[1,"name"],[1,"title"],[1,"stats"],[1,"folder-container"],[1,"folder-title"],["lines","none"],[1,"titre"],["fill","clear","size","small"],[1,"folders"],[1,"my-team-container"],["fill","clear","size","small",3,"click"],[1,"folder-card"],["name","folder-outline","slot","start"],[1,"folder-info"],["name","briefcase-outline","slot","start"],["slot","end"],["src","assets/img/team1.jpg"]],template:function(l,d){l&1&&(e(0,"ion-content",0),g(1,"div",1),e(2,"div",2)(3,"ion-button",3),C("click",function(){return d.goHome()}),g(4,"ion-icon",4),t()(),e(5,"div",5),g(6,"img",6),e(7,"h2",7),i(8,"Richard A. Bachmann"),t(),e(9,"p",8),i(10,"UI/UX Designer"),t(),e(11,"div",9)(12,"div")(13,"h3"),i(14,"75k"),t(),e(15,"p"),i(16,"Followers"),t()(),e(17,"div")(18,"h3"),i(19,"16k"),t(),e(20,"p"),i(21,"Followings"),t()(),e(22,"div")(23,"h3"),i(24,"600"),t(),e(25,"p"),i(26,"Projects"),t()()()(),e(27,"div",10)(28,"div",11)(29,"ion-item",12)(30,"ion-label",13)(31,"strong"),i(32,"Folders"),t()(),e(33,"ion-button",14),i(34,"Voir Tout"),t()()(),e(35,"div",15),f(36,Y,2,0)(37,Z,6,0,"ion-card"),t()(),e(38,"div",16)(39,"ion-item",12)(40,"ion-label",13)(41,"strong"),i(42,"Mes Projets"),t()(),e(43,"ion-button",17),C("click",function(){return d.UnlimitedProject()}),i(44,"Voir Tout"),t()(),f(45,te,3,0,"ion-list")(46,ne,6,0,"ion-card"),t(),e(47,"div",16)(48,"ion-item",12)(49,"ion-label",13)(50,"strong"),i(51,"Projects En Collaborations"),t()(),e(52,"ion-button",17),C("click",function(){return d.UnlimitedProject()}),i(53,"Voir Tout"),t()(),f(54,oe,3,0,"ion-list")(55,re,6,0,"ion-card"),t()()),l&2&&(j("fullscreen",!0),c(36),u(d.folders.length>0?36:37),c(9),u(d.projects.length>0?45:46),c(9),u(d.t_projects.length>0?54:55))},dependencies:[A,U,z,D,y,w,B,H,L,$,F,k,T],styles:["*[_ngcontent-%COMP%]{--background: none}ion-content[_ngcontent-%COMP%]{--background: #f2f6fd}ion-content[_ngcontent-%COMP%]   .espace[_ngcontent-%COMP%]{padding-top:80px}ion-content[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{position:fixed;top:40px;left:20px;z-index:99}ion-content[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{background:#e8f0fe;border-radius:25px}ion-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#145494}ion-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;color:#145494;margin:0}ion-content[_ngcontent-%COMP%]   ion-label.titre[_ngcontent-%COMP%]{font-size:15px;color:#145494;margin:0}ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:none}.profile-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#036,#369);color:#fff;border-radius:20px;padding:20px;margin-bottom:20px;height:350px}.profile-card[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:10px}.profile-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:10px}.profile-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.profile-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px}.folder-container[_ngcontent-%COMP%]   .folder-title[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:0}.folder-container[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding-left:10px;padding-right:10px;scroll-snap-type:x mandatory}.folder-container[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]   .folder-card.ios[_ngcontent-%COMP%]{margin-top:0}.folder-container[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]   .folder-card[_ngcontent-%COMP%]{min-width:300px;min-height:90px;flex:0 0 auto;scroll-snap-align:start;border-radius:12px;margin-top:0;margin-left:0;background:#c9d5e7}.folder-container[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]   .folder-card[_ngcontent-%COMP%]   .folder-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:15px;margin-bottom:15px}.folder-container[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]   .folder-card[_ngcontent-%COMP%]   .folder-info[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:5px}.folder-container[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]   .folder-card[_ngcontent-%COMP%]   .folder-info[_ngcontent-%COMP%]   .avatars[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.folder-container[_ngcontent-%COMP%]   .folders[_ngcontent-%COMP%]   .folder-card[_ngcontent-%COMP%]   .folder-info[_ngcontent-%COMP%]   .avatars[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;object-fit:cover;margin-top:5px;margin-left:-2px;margin-right:-2px}.my-team-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding:8px;border-radius:12px;background:#c9d5e7;font-size:20px}"]});let n=a;return n})();export{fe as ProjectsPage};
