import{a as ie}from"./chunk-5ZKMY5GM.js";import{a as Y,t as Z,w as $,x as ee,y as te,z as ne}from"./chunk-6UAI7CFH.js";import"./chunk-MU56VQVL.js";import{$b as K,Ea as I,Gb as j,Ha as B,I as _,J as y,L as T,Ma as W,Nb as D,O as u,Ob as q,Pb as A,Q as x,Ua as N,Va as z,W as o,Wa as L,Wb as H,X as r,Xa as F,Y as d,Ya as G,aa as M,ba as p,bc as X,ca as a,cb as Q,cc as J,ia as k,ja as v,ka as O,la as b,ma as g,na as C,pa as h,qa as w,ra as P,ta as S,vb as R,y as s,z as c,zb as U}from"./chunk-IK3SDQQI.js";import"./chunk-KQYAU5ZY.js";import"./chunk-7KGURMOZ.js";import"./chunk-ZRAG276G.js";import"./chunk-BYYCXTI5.js";import"./chunk-TTTB7IPG.js";import"./chunk-CHHPJ5YN.js";import"./chunk-LZHEG2YN.js";import"./chunk-4U6PRYVA.js";import"./chunk-OAACOBQM.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{g as E}from"./chunk-OLRFWS6T.js";var oe=["signupModal"],re=["signinModal"],ae=()=>[.85],le=()=>[.75];function se(l,m){if(l&1&&(o(0,"ion-text",36)(1,"small"),g(2),r()()),l&2){let t=a(2);_(2),C(t.nameError)}}function ce(l,m){if(l&1&&(o(0,"ion-text",36)(1,"small"),g(2),r()()),l&2){let t=a(2);_(2),C(t.s_emailError)}}function _e(l,m){if(l&1&&(o(0,"ion-text",36)(1,"small"),g(2),r()()),l&2){let t=a(2);_(2),C(t.s_passError)}}function ge(l,m){if(l&1&&(o(0,"ion-text",36)(1,"small"),g(2),r()()),l&2){let t=a(2);_(2),C(t.confpassError)}}function pe(l,m){if(l&1){let t=M();o(0,"ion-content",18)(1,"div",19)(2,"h2"),g(3,"Get Started"),r(),o(4,"form")(5,"ion-item",20)(6,"ion-input",21),P("ngModelChange",function(e){s(t);let i=a();return w(i.name,e)||(i.name=e),c(e)}),p("ionBlur",function(){s(t);let e=a();return c(e.verifyName())}),r()(),u(7,se,3,1,"ion-text",22),o(8,"ion-item",20)(9,"ion-input",23),P("ngModelChange",function(e){s(t);let i=a();return w(i.s_email,e)||(i.s_email=e),c(e)}),p("ionBlur",function(){s(t);let e=a();return c(e.verifyEmail("s_email"))}),r()(),u(10,ce,3,1,"ion-text",22),o(11,"ion-item",20)(12,"ion-input",24),P("ngModelChange",function(e){s(t);let i=a();return w(i.numero,e)||(i.numero=e),c(e)}),r()(),o(13,"ion-item",20)(14,"ion-input",25),P("ngModelChange",function(e){s(t);let i=a();return w(i.s_password,e)||(i.s_password=e),c(e)}),p("ionBlur",function(){s(t);let e=a();return c(e.verifyPass("s_password"))}),d(15,"ion-input-password-toggle",26),r()(),u(16,_e,3,1,"ion-text",22),o(17,"ion-item",20)(18,"ion-input",27),P("ngModelChange",function(e){s(t);let i=a();return w(i.confpassword,e)||(i.confpassword=e),c(e)}),p("ionBlur",function(){s(t);let e=a();return c(e.verifyConfPass())}),d(19,"ion-input-password-toggle",26),r()(),u(20,ge,3,1,"ion-text",22),o(21,"ion-item",20),d(22,"ion-checkbox",28),o(23,"ion-label"),g(24,"I agree to the term of use"),r()(),o(25,"ion-button",29),p("click",function(){s(t);let e=a();return c(e.register("email","password"))}),g(26,"Sign up"),r()(),o(27,"div",30),g(28,"Ou S'inscrire avec "),r(),o(29,"div",31)(30,"ion-icon",32),p("click",function(){s(t),a();let e=b(24);return c(e.dismiss())})("click",function(){s(t);let e=a();return c(e.loginWithGoogle())}),r(),d(31,"ion-icon",33),r(),o(32,"div",34),g(33," Already have an account ? "),o(34,"span",35),p("click",function(){s(t),a();let e=b(24);return c(e.dismiss())})("click",function(){s(t);let e=a();return c(e.openSignIn())})("click",function(){s(t);let e=a();return c(e.reset())}),g(35,"Sign in"),r()()()()}if(l&2){let t=a();_(6),h("ngModel",t.name),_(),x("ngIf",t.nameError),_(2),h("ngModel",t.s_email),_(),x("ngIf",t.s_emailError),_(2),h("ngModel",t.numero),_(2),h("ngModel",t.s_password),_(2),x("ngIf",t.s_passError),_(2),h("ngModel",t.confpassword),_(2),x("ngIf",t.confpassError)}}function me(l,m){if(l&1&&(o(0,"ion-text",36)(1,"small"),g(2),r()()),l&2){let t=a(2);_(2),C(t.emailError)}}function de(l,m){if(l&1&&(o(0,"ion-text",36)(1,"small"),g(2),r()()),l&2){let t=a(2);_(2),C(t.passError)}}function ue(l,m){if(l&1&&(o(0,"ion-text",36)(1,"small"),g(2),r()()),l&2){let t=a(2);_(2),C(t.errorMessage)}}function xe(l,m){if(l&1){let t=M();o(0,"ion-text",39)(1,"small",35),p("click",function(){s(t);let e=a(2);return c(e.openSignUp())}),g(2,"Clique ici pour cree un compte"),r()()}}function fe(l,m){if(l&1){let t=M();o(0,"ion-content",18)(1,"div",19)(2,"h2"),g(3,"Welcome Back"),r(),o(4,"form")(5,"ion-item",20)(6,"ion-input",37),P("ngModelChange",function(e){s(t);let i=a();return w(i.email,e)||(i.email=e),c(e)}),p("ionBlur",function(){s(t);let e=a();return c(e.verifyEmail("email"))}),r()(),u(7,me,3,1,"ion-text",22),o(8,"ion-item",20)(9,"ion-input",25),P("ngModelChange",function(e){s(t);let i=a();return w(i.password,e)||(i.password=e),c(e)}),p("ionBlur",function(){s(t);let e=a();return c(e.verifyPass("password"))}),r()(),u(10,de,3,1,"ion-text",22),d(11,"br"),u(12,ue,3,1,"ion-text",22),d(13,"br"),u(14,xe,3,0,"ion-text",38),o(15,"ion-button",29),p("click",function(){s(t);let e=a();return c(e.login("email","password"))}),g(16,"Sign in"),r()(),o(17,"div",31)(18,"ion-icon",32),p("click",function(){s(t),a();let e=b(27);return c(e.dismiss())})("click",function(){s(t);let e=a();return c(e.loginWithGoogle())}),r(),d(19,"ion-icon",33),r(),o(20,"div",34),g(21," Dont have an account ? "),o(22,"span",35),p("click",function(){s(t),a();let e=b(27);return c(e.dismiss())})("click",function(){s(t);let e=a();return c(e.openSignUp())}),g(23,"Sign up"),r()()()()}if(l&2){let t=a();_(6),h("ngModel",t.email),_(),x("ngIf",t.emailError),_(2),h("ngModel",t.password),_(),x("ngIf",t.passError),_(2),x("ngIf",t.errorMessage),_(2),x("ngIf",t.errorMessage)}}var Oe=(()=>{let m=class m{constructor(n,e){this.router=n,this.authService=e,this.email="",this.name="",this.s_email="",this.confpassword="",this.showPassword=!1,this.errorMessage="",this.nameError="",this.emailError="",this.s_emailError="",this.passError="",this.password="",this.s_password="",this.s_passError="",this.confpassError="",Y({homeOutline:Z,logoFacebook:ee,logoTwitter:ne,logoGoogle:te,logoApple:$})}reset(){this.errorMessage="",this.nameError="",this.emailError="",this.s_emailError="",this.s_passError="",this.confpassError=""}verifyEmail(n){let e=this[n],i=n==="email"?"emailError":"s_emailError";!e||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?this[i]="Format d'email invalide":this[i]=""}verifyPass(n){let e=this[n],i=n==="password"?"passError":"s_passError";!e||e.length<6?this[i]="Le mot de passe doit contenir au moins 6 caract\xE8res":this[i]=""}verifyName(){!this.name||this.name.trim().length<3?this.nameError="Le nom doit contenir au moins 3 caract\xE8res":this.nameError=""}verifySEmail(){let n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;!this.s_email||!n.test(this.s_email)?this.s_emailError="Format d'email invalide":this.s_emailError=""}verifySPass(){!this.s_password||this.s_password.length<6?this.s_passError="Le mot de passe doit contenir au moins 6 caract\xE8res":this.s_passError=""}verifyConfPass(){this.s_password!==this.confpassword?this.confpassError="Les mots de passe ne correspondent pas":this.confpassError=""}register(n,e){return E(this,null,function*(){if(this.verifyName(),this.verifyEmail(n),this.verifyPass(e),this.verifyConfPass(),this.nameError||this.s_emailError||this.s_passError){console.log("Veuillez corriger les erreurs avant de continuer.");return}try{let i=yield this.authService.registerService(this.s_email,this.s_password,this.name,this.numero);i&&(console.log("User registered:",i),this.signupModal.dismiss(),this.router.navigate(["compte/profile"]))}catch(i){i instanceof Error?console.error("Erreur d'inscription:",i.message):console.error("Erreur lors de l'inscription. Veuillez r\xE9essayer.")}})}login(n,e){return E(this,null,function*(){this.verifyEmail(n),this.verifyPass(e),(!this.email||!this.password)&&(this.errorMessage="Veuillez remplir les champs email et mot de passe"),(yield this.authService.loginService(this.email,this.password))?this.router.navigate(["/home"]).then(()=>{window.location.reload()}):this.errorMessage="Email ou mot de passe incorrect"})}loginWithGoogle(){return E(this,null,function*(){(yield this.authService.signInWithGoogle())?this.router.navigate(["/home"]).then(()=>{window.location.reload()}):this.errorMessage="\xC9chec de connexion avec Google."})}openSignUp(){this.signupModal.present()}openSignIn(){this.signinModal.present()}ngOnInit(){}goHome(){this.router.navigate(["/home"])}};m.\u0275fac=function(e){return new(e||m)(y(W),y(ie))},m.\u0275cmp=T({type:m,selectors:[["app-compte"]],viewQuery:function(e,i){if(e&1&&(k(oe,5),k(re,5)),e&2){let f;v(f=O())&&(i.signupModal=f.first),v(f=O())&&(i.signinModal=f.first)}},decls:29,vars:6,consts:[["signupModal",""],["signinModal",""],[1,"login-screen"],[1,"background-blobs"],[1,"blob","blob1"],[1,"blob","blob2"],[1,"blob","blob3"],[1,"blob","blob4"],[1,"espace"],[1,"go-back",3,"click"],["fill","clear"],["name","home-outline"],[1,"content"],[1,"footer-buttons"],[1,"buttons"],["fill","clear",1,"sign-in",3,"click"],["fill","clear",1,"sign-up",3,"click"],[3,"initialBreakpoint","breakpoints"],[1,"modal"],[1,"container"],["lines","none"],["label","Full Name","labelPlacement","stacked","type","text","placeholder","Enter Full Name",3,"ngModelChange","ionBlur","ngModel"],["color","danger",4,"ngIf"],["label","Email","labelPlacement","stacked","autocomplete","false","type","email","placeholder","Enter Email",3,"ngModelChange","ionBlur","ngModel"],["label","Numero","labelPlacement","stacked","type","number","placeholder","Enter Numero",3,"ngModelChange","ngModel"],["label","Password","labelPlacement","stacked","type","password","placeholder","Enter Password",3,"ngModelChange","ionBlur","ngModel"],["slot","end"],["label","Password","labelPlacement","stacked","type","password","placeholder","Confirme Password",3,"ngModelChange","ionBlur","ngModel"],["slot","start","value","agree"],["expand","block",1,"signup-button",3,"click"],[1,"social-login-text"],[1,"social-login"],["name","logo-google",3,"click"],["name","logo-apple"],[1,"bottom-text"],[3,"click"],["color","danger"],["label","Email","labelPlacement","stacked","type","email","placeholder","Enter Email",3,"ngModelChange","ionBlur","ngModel"],["color","success",4,"ngIf"],["color","success"]],template:function(e,i){if(e&1){let f=M();o(0,"ion-content",2)(1,"div",3),d(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),r(),d(6,"div",8),o(7,"div",9),p("click",function(){return s(f),c(i.goHome())}),o(8,"ion-button",10),d(9,"ion-icon",11),r()(),o(10,"div",12)(11,"h1"),g(12,"Welcome Back!"),r(),o(13,"p"),g(14,"Enter personal details to you"),d(15,"br"),g(16,"employee account"),r()(),o(17,"div",13)(18,"div",14)(19,"ion-button",15),p("click",function(){return s(f),c(i.openSignIn())}),g(20,"Sign in"),r(),o(21,"ion-button",16),p("click",function(){return s(f),c(i.openSignUp())}),g(22,"Sign up"),r()()(),o(23,"ion-modal",17,0),u(25,pe,36,9,"ng-template"),r(),o(26,"ion-modal",17,1),u(28,fe,24,6,"ng-template"),r()()}e&2&&(_(23),x("initialBreakpoint",.85)("breakpoints",S(4,ae)),_(3),x("initialBreakpoint",.75)("breakpoints",S(5,le)))},dependencies:[j,U,X,R,q,A,J,H,K,D,B,I,Q,G,N,z,F,L],styles:['@charset "UTF-8";.login-screen[_ngcontent-%COMP%]{--background: transparent;position:relative;height:100%;--background: url("./media/wp-TPEXI5ND.jpeg") no-repeat center center/cover;overflow:hidden}.login-screen[_ngcontent-%COMP%]   .background-blobs[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:0}.login-screen[_ngcontent-%COMP%]   .background-blobs[_ngcontent-%COMP%]   .blob[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(1px)}.login-screen[_ngcontent-%COMP%]   .background-blobs[_ngcontent-%COMP%]   .blob1[_ngcontent-%COMP%]{width:150px;height:150px;background:radial-gradient(circle,#3c4a81,#273366);top:-20px;left:-30px}.login-screen[_ngcontent-%COMP%]   .background-blobs[_ngcontent-%COMP%]   .blob2[_ngcontent-%COMP%]{width:120px;height:120px;background:radial-gradient(circle,#aac2f0,#7ba1df);top:40px;right:10px}.login-screen[_ngcontent-%COMP%]   .background-blobs[_ngcontent-%COMP%]   .blob3[_ngcontent-%COMP%]{width:80px;height:80px;background:radial-gradient(circle,#6c92dc,#3b5cc3);bottom:100px;left:20px}.login-screen[_ngcontent-%COMP%]   .background-blobs[_ngcontent-%COMP%]   .blob4[_ngcontent-%COMP%]{width:160px;height:160px;background:radial-gradient(circle,#273366,#1e264e);bottom:0;left:60px}.login-screen[_ngcontent-%COMP%]   .espace[_ngcontent-%COMP%]{padding-top:80px}.login-screen[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{position:fixed;top:40px;left:20px;z-index:99}.login-screen[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{background:#fff;border-radius:25px}.login-screen[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;color:#145494}.login-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:center;padding-top:150px;color:#949494}.login-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.login-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:16px}.login-screen[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;background-color:none;padding:0}.login-screen[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;padding:0;height:70px}.login-screen[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;margin:0;padding:0;font-size:13px;border:none;background-color:none;color:#fff;cursor:pointer;height:70px}.login-screen[_ngcontent-%COMP%]   ion-button.sign-up[_ngcontent-%COMP%]{background-color:#fff;color:#145494;border-top-left-radius:25px}.login-screen[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#145494;border-top-right-radius:25px}.modal[_ngcontent-%COMP%]{--background: none}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background-color:#fff;padding:30px 20px;box-shadow:0 0 10px #0000000d;text-align:center;height:100%}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#145494;margin-bottom:20px;font-weight:700}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:10px;--background: #f5f5f5;--border-radius: 10px;color:#000}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input-password-toggle[_ngcontent-%COMP%]{--color: #131416}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .signup-button[_ngcontent-%COMP%]{--background: #145494;font-weight:700;margin-top:20px;border-radius:10px}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .social-login-text[_ngcontent-%COMP%]{margin:20px 0 10px;font-size:14px;color:#7a7a7a}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;font-size:24px;margin:20px 0;color:#145494}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom-text[_ngcontent-%COMP%]{font-size:14px;color:#000}.modal[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .bottom-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#145494;text-decoration:none;font-weight:600}']});let l=m;return l})();export{Oe as ComptePage};
